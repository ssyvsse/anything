$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",oLanguage:{sLengthMenu:"每页 _MENU_ 条记录"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),$.fn.dataTable.Api?($.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(settings,host,idx,buttons,page,pages){var btnDisplay,btnClass,api=new $.fn.dataTable.Api(settings),classes=settings.oClasses,lang=settings.oLanguage.oPaginate,attach=function(container,buttons){var i,ien,node,button,clickHandler=function(e){e.preventDefault(),"ellipsis"!==e.data.action&&api.page(e.data.action).draw(!1)};for(i=0,ien=buttons.length;i<ien;i++)if(button=buttons[i],$.isArray(button))attach(container,button);else{switch(btnDisplay="",btnClass="",button){case"ellipsis":btnDisplay="&hellip;",btnClass="disabled";break;case"first":btnDisplay=lang.sFirst,btnClass=button+(page>0?"":" disabled");break;case"previous":btnDisplay=lang.sPrevious,btnClass=button+(page>0?"":" disabled");break;case"next":btnDisplay=lang.sNext,btnClass=button+(page<pages-1?"":" disabled");break;case"last":btnDisplay=lang.sLast,btnClass=button+(page<pages-1?"":" disabled");break;default:btnDisplay=button+1,btnClass=page===button?"active":""}btnDisplay&&(node=$("<li>",{class:classes.sPageButton+" "+btnClass,"aria-controls":settings.sTableId,tabindex:settings.iTabIndex,id:0===idx&&"string"==typeof button?settings.sTableId+"_"+button:null}).append($("<a>",{href:"#"}).html(btnDisplay)).appendTo(container),settings.oApi._fnBindAction(node,{action:button},clickHandler))}};attach($(host).empty().html('<ul class="pagination"/>').children("ul"),buttons)}):($.fn.dataTable.defaults.sPaginationType="bootstrap",$.fn.dataTableExt.oApi.fnPagingInfo=function(oSettings){return{iStart:oSettings._iDisplayStart,iEnd:oSettings.fnDisplayEnd(),iLength:oSettings._iDisplayLength,iTotal:oSettings.fnRecordsTotal(),iFilteredTotal:oSettings.fnRecordsDisplay(),iPage:-1===oSettings._iDisplayLength?0:Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength),iTotalPages:-1===oSettings._iDisplayLength?0:Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(oSettings,nPaging,fnDraw){var oLang=oSettings.oLanguage.oPaginate,fnClickHandler=function(e){e.preventDefault(),oSettings.oApi._fnPageChange(oSettings,e.data.action)&&fnDraw(oSettings)};$(nPaging).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+oLang.sPrevious+'</a></li><li class="next disabled"><a href="#">'+oLang.sNext+" &rarr; </a></li></ul>");var els=$("a",nPaging);$(els[0]).bind("click.DT",{action:"previous"},fnClickHandler),$(els[1]).bind("click.DT",{action:"next"},fnClickHandler)},fnUpdate:function(oSettings,fnDraw){var i,ien,j,sClass,iStart,iEnd,oPaging=oSettings.oInstance.fnPagingInfo(),an=oSettings.aanFeatures.p,iHalf=Math.floor(2.5);for(oPaging.iTotalPages<5?(iStart=1,iEnd=oPaging.iTotalPages):oPaging.iPage<=iHalf?(iStart=1,iEnd=5):oPaging.iPage>=oPaging.iTotalPages-iHalf?(iStart=oPaging.iTotalPages-5+1,iEnd=oPaging.iTotalPages):iEnd=(iStart=oPaging.iPage-iHalf+1)+5-1,i=0,ien=an.length;i<ien;i++){for($("li:gt(0)",an[i]).filter(":not(:last)").remove(),j=iStart;j<=iEnd;j++)sClass=j==oPaging.iPage+1?'class="active"':"",$("<li "+sClass+'><a href="#">'+j+"</a></li>").insertBefore($("li:last",an[i])[0]).bind("click",function(e){e.preventDefault(),oSettings._iDisplayStart=(parseInt($("a",this).text(),10)-1)*oPaging.iLength,fnDraw(oSettings)});0===oPaging.iPage?$("li:first",an[i]).addClass("disabled"):$("li:first",an[i]).removeClass("disabled"),oPaging.iPage===oPaging.iTotalPages-1||0===oPaging.iTotalPages?$("li:last",an[i]).addClass("disabled"):$("li:last",an[i]).removeClass("disabled")}}}})),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}));