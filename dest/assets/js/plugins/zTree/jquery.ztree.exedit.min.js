!function(v){var J={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},x={onHoverOverNode:function(b,a){var c=m.getSetting(b.data.treeId),d=m.getRoot(c);d.curHoverNode!=a&&x.onHoverOutNode(b),d.curHoverNode=a,f.addHoverDom(c,a)},onHoverOutNode:function(b){b=m.getSetting(b.data.treeId);var a=m.getRoot(b);a.curHoverNode&&!m.isSelectedNode(b,a.curHoverNode)&&(f.removeTreeDom(b,a.curHoverNode),a.curHoverNode=null)},onMousedownNode:function(b,a){function c(b){if(0==B.dragFlag&&Math.abs(O-b.clientX)<e.edit.drag.minMoveSize&&Math.abs(P-b.clientY)<e.edit.drag.minMoveSize)return!0;var a,c,n,k,i;if(i=e.data.key.children,M.css("cursor","pointer"),0==B.dragFlag){if(0==g.apply(e.callback.beforeDrag,[e.treeId,l],!0))return r(b),!0;for(a=0,c=l.length;a<c;a++)0==a&&(B.dragNodeShowBefore=[]),(n=l[a]).isParent&&n.open?(f.expandCollapseNode(e,n,!n.open),B.dragNodeShowBefore[n.tId]=!0):B.dragNodeShowBefore[n.tId]=!1;if(B.dragFlag=1,t.showHoverDom=!1,g.showIfameMask(e,!0),n=!0,k=-1,l.length>1){var j=l[0].parentTId?l[0].getParentNode()[i]:m.getNodes(e);for(i=[],a=0,c=j.length;a<c;a++)if(void 0!==B.dragNodeShowBefore[j[a].tId]&&(n&&k>-1&&k+1!==a&&(n=!1),i.push(j[a]),k=a),l.length===i.length){l=i;break}}for(n&&(I=l[0].getPreNode(),R=l[l.length-1].getNextNode()),D=o("<ul class='zTreeDragUL'></ul>",e),a=0,c=l.length;a<c;a++)(n=l[a]).editNameFlag=!1,f.selectNode(e,n,a>0),f.removeTreeDom(e,n),a>e.edit.drag.maxShowNodeNum-1||((k=o("<li id='"+n.tId+"_tmp'></li>",e)).append(o(n,d.id.A,e).clone()),k.css("padding","0"),k.children("#"+n.tId+d.id.A).removeClass(d.node.CURSELECTED),D.append(k),a==e.edit.drag.maxShowNodeNum-1&&(k=o("<li id='"+n.tId+"_moretmp'><a>  ...  </a></li>",e),D.append(k)));D.attr("id",l[0].tId+d.id.UL+"_tmp"),D.addClass(e.treeObj.attr("class")),D.appendTo(M),(A=o("<span class='tmpzTreeMove_arrow'></span>",e)).attr("id","zTreeMove_arrow_tmp"),A.appendTo(M),e.treeObj.trigger(d.event.DRAG,[b,e.treeId,l])}if(1==B.dragFlag){for(var y in s&&A.attr("id")==b.target.id&&u&&b.clientX+G.scrollLeft()+2>v("#"+u+d.id.A,s).offset().left?(n=v("#"+u+d.id.A,s),b.target=n.length>0?n.get(0):b.target):s&&(s.removeClass(d.node.TMPTARGET_TREE),u&&v("#"+u+d.id.A,s).removeClass(d.node.TMPTARGET_NODE+"_"+d.move.TYPE_PREV).removeClass(d.node.TMPTARGET_NODE+"_"+J.move.TYPE_NEXT).removeClass(d.node.TMPTARGET_NODE+"_"+J.move.TYPE_INNER)),u=s=null,K=!1,h=e,n=m.getSettings())n[y].treeId&&n[y].edit.enable&&n[y].treeId!=e.treeId&&(b.target.id==n[y].treeId||v(b.target).parents("#"+n[y].treeId).length>0)&&(K=!0,h=n[y]);y=G.scrollTop(),k=G.scrollLeft(),i=h.treeObj.offset(),a=h.treeObj.get(0).scrollHeight,n=h.treeObj.get(0).scrollWidth,c=b.clientY+y-i.top;var p=h.treeObj.height()+i.top-b.clientY-y,q=b.clientX+k-i.left,H=h.treeObj.width()+i.left-b.clientX-k;i=c<e.edit.drag.borderMax&&c>e.edit.drag.borderMin;j=p<e.edit.drag.borderMax&&p>e.edit.drag.borderMin;var F=q<e.edit.drag.borderMax&&q>e.edit.drag.borderMin,x=H<e.edit.drag.borderMax&&H>e.edit.drag.borderMin,N=(p=c>e.edit.drag.borderMin&&p>e.edit.drag.borderMin&&q>e.edit.drag.borderMin&&H>e.edit.drag.borderMin,q=i&&h.treeObj.scrollTop()<=0,H=j&&h.treeObj.scrollTop()+h.treeObj.height()+10>=a,F&&h.treeObj.scrollLeft()<=0),Q=x&&h.treeObj.scrollLeft()+h.treeObj.width()+10>=n;if(b.target&&g.isChildOrSelf(b.target,h.treeId)){for(var E=b.target;E&&E.tagName&&!g.eqs(E.tagName,"li")&&E.id!=h.treeId;)E=E.parentNode;var S=!0;for(a=0,c=l.length;a<c;a++){if(n=l[a],E.id===n.tId){S=!1;break}if(o(n,e).find("#"+E.id).length>0){S=!1;break}}S&&b.target&&g.isChildOrSelf(b.target,E.id+d.id.A)&&(s=v(E),u=E.id)}if(n=l[0],p&&g.isChildOrSelf(b.target,h.treeId)&&(!s&&(b.target.id==h.treeId||q||H||N||Q)&&(K||!K&&n.parentTId)&&(s=h.treeObj),i?h.treeObj.scrollTop(h.treeObj.scrollTop()-10):j&&h.treeObj.scrollTop(h.treeObj.scrollTop()+10),F?h.treeObj.scrollLeft(h.treeObj.scrollLeft()-10):x&&h.treeObj.scrollLeft(h.treeObj.scrollLeft()+10),s&&s!=h.treeObj&&s.offset().left<h.treeObj.offset().left&&h.treeObj.scrollLeft(h.treeObj.scrollLeft()+s.offset().left-h.treeObj.offset().left)),D.css({top:b.clientY+y+3+"px",left:b.clientX+k+3+"px"}),c=a=0,s&&s.attr("id")!=h.treeId){var z=null==u?null:m.getNodeCache(h,u);i=(b.ctrlKey||b.metaKey)&&e.edit.drag.isMove&&e.edit.drag.isCopy||!e.edit.drag.isMove&&e.edit.drag.isCopy,k=!(!I||u!==I.tId),F=!(!R||u!==R.tId),j=n.parentTId&&n.parentTId==u,n=(i||!F)&&g.apply(h.edit.drag.prev,[h.treeId,l,z],!!h.edit.drag.prev),k=(i||!k)&&g.apply(h.edit.drag.next,[h.treeId,l,z],!!h.edit.drag.next),i=(i||!j)&&!(h.data.keep.leaf&&!z.isParent)&&g.apply(h.edit.drag.inner,[h.treeId,l,z],!!h.edit.drag.inner),j=function(){s=null,u="",w=d.move.TYPE_INNER,A.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)},n||k||i?(F=v("#"+u+d.id.A,s),x=z.isLastNode?null:v("#"+z.getNextNode().tId+d.id.A,s.next()),p=F.offset().top,q=F.offset().left,H=n?i?.25:k?.5:1:-1,N=k?i?.75:n?.5:0:-1,y=(b.clientY+y-p)/F.height(),(1==H||y<=H&&y>=-.2)&&n?(a=1-A.width(),c=p-A.height()/2,w=d.move.TYPE_PREV):(0==N||y>=N&&y<=1.2)&&k?(a=1-A.width(),c=null==x||z.isParent&&z.open?p+F.height()-A.height()/2:x.offset().top-A.height()/2,w=d.move.TYPE_NEXT):i?(a=5-A.width(),c=p,w=d.move.TYPE_INNER):j(),s&&(A.css({display:"block",top:c+"px",left:q+a+"px"}),F.addClass(d.node.TMPTARGET_NODE+"_"+w),T==u&&U==w||(L=(new Date).getTime()),z&&z.isParent&&w==d.move.TYPE_INNER&&(y=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==z.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===z.tId&&(y=!1),y)&&(window.zTreeMoveTimer=setTimeout(function(){w==d.move.TYPE_INNER&&z&&z.isParent&&!z.open&&(new Date).getTime()-L>h.edit.drag.autoOpenTime&&g.apply(h.callback.beforeDragOpen,[h.treeId,z],!0)&&(f.switchNode(h,z),h.edit.drag.autoExpandTrigger&&h.treeObj.trigger(d.event.EXPAND,[h.treeId,z]))},h.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=z.tId))):j()}else w=d.move.TYPE_INNER,s&&g.apply(h.edit.drag.inner,[h.treeId,l,null],!!h.edit.drag.inner)?s.addClass(d.node.TMPTARGET_TREE):s=null,A.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);T=u,U=w,e.treeObj.trigger(d.event.DRAGMOVE,[b,e.treeId,l])}return!1}function r(b){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),U=T=null,G.unbind("mousemove",c),G.unbind("mouseup",r),G.unbind("selectstart",k),M.css("cursor","auto"),s&&(s.removeClass(d.node.TMPTARGET_TREE),u&&v("#"+u+d.id.A,s).removeClass(d.node.TMPTARGET_NODE+"_"+d.move.TYPE_PREV).removeClass(d.node.TMPTARGET_NODE+"_"+J.move.TYPE_NEXT).removeClass(d.node.TMPTARGET_NODE+"_"+J.move.TYPE_INNER)),g.showIfameMask(e,!1),t.showHoverDom=!0,0!=B.dragFlag){var a,i,j;for(B.dragFlag=0,a=0,i=l.length;a<i;a++)(j=l[a]).isParent&&B.dragNodeShowBefore[j.tId]&&!j.open&&(f.expandCollapseNode(e,j,!j.open),delete B.dragNodeShowBefore[j.tId]);D&&D.remove(),A&&A.remove();var p=(b.ctrlKey||b.metaKey)&&e.edit.drag.isMove&&e.edit.drag.isCopy||!e.edit.drag.isMove&&e.edit.drag.isCopy;if(!p&&s&&u&&l[0].parentTId&&u==l[0].parentTId&&w==d.move.TYPE_INNER&&(s=null),s){var q=null==u?null:m.getNodeCache(h,u);if(0==g.apply(e.callback.beforeDrop,[h.treeId,l,q,w,p],!0))f.selectNodes(x,l);else{var C=p?g.clone(l):l;a=function(){if(K){if(!p)for(var a=0,c=l.length;a<c;a++)f.removeNode(e,l[a]);w==d.move.TYPE_INNER?f.addNodes(h,q,-1,C):f.addNodes(h,q.getParentNode(),w==d.move.TYPE_PREV?q.getIndex():q.getIndex()+1,C)}else if(p&&w==d.move.TYPE_INNER)f.addNodes(h,q,-1,C);else if(p)f.addNodes(h,q.getParentNode(),w==d.move.TYPE_PREV?q.getIndex():q.getIndex()+1,C);else if(w!=d.move.TYPE_NEXT)for(a=0,c=C.length;a<c;a++)f.moveNode(h,q,C[a],w,!1);else for(a=-1,c=C.length-1;a<c;c--)f.moveNode(h,q,C[c],w,!1);f.selectNodes(h,C),a=o(C[0],e).get(0),f.scrollIntoView(a),e.treeObj.trigger(d.event.DROP,[b,h.treeId,C,q,w,p])},w==d.move.TYPE_INNER&&g.canAsync(h,q)?f.asyncNode(h,q,!1,a):a()}}else f.selectNodes(x,l),e.treeObj.trigger(d.event.DROP,[b,e.treeId,l,null,null,null])}}function k(){return!1}var i,j,e=m.getSetting(b.data.treeId),B=m.getRoot(e),t=m.getRoots();if(2==b.button||!e.edit.enable||!e.edit.drag.isCopy&&!e.edit.drag.isMove)return!0;var p=b.target,q=m.getRoot(e).curSelectedList,l=[];if(m.isSelectedNode(e,a))for(i=0,j=q.length;i<j;i++){if(q[i].editNameFlag&&g.eqs(p.tagName,"input")&&null!==p.getAttribute("treeNode"+d.id.INPUT))return!0;if(l.push(q[i]),l[0].parentTId!==q[i].parentTId){l=[a];break}}else l=[a];f.editNodeBlur=!0,f.cancelCurEditNode(e);var D,A,s,I,R,G=v(e.treeObj.get(0).ownerDocument),M=v(e.treeObj.get(0).ownerDocument.body),K=!1,h=e,x=e,T=null,U=null,u=null,w=d.move.TYPE_INNER,O=b.clientX,P=b.clientY,L=(new Date).getTime();return g.uCanDo(e)&&G.bind("mousemove",c),G.bind("mouseup",r),G.bind("selectstart",k),b.preventDefault&&b.preventDefault(),!0}};v.extend(!0,v.fn.zTree.consts,J),v.extend(!0,v.fn.zTree._z,{tools:{getAbs:function(b){return[(b=b.getBoundingClientRect()).left+(document.body.scrollLeft+document.documentElement.scrollLeft),b.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(b){b.get(0)&&(b.focus(),g.setCursorPosition(b.get(0),b.val().length))},inputSelect:function(b){b.get(0)&&(b.focus(),b.select())},setCursorPosition:function(b,a){if(b.setSelectionRange)b.focus(),b.setSelectionRange(a,a);else if(b.createTextRange){var c=b.createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}},showIfameMask:function(b,a){for(var c=m.getRoot(b);c.dragMaskList.length>0;)c.dragMaskList[0].remove(),c.dragMaskList.shift();if(a)for(var d=o("iframe",b),f=0,i=d.length;f<i;f++){var j=d.get(f),e=g.getAbs(j);(j=o("<div id='zTreeMask_"+f+"' class='zTreeMask' style='top:"+e[1]+"px; left:"+e[0]+"px; width:"+j.offsetWidth+"px; height:"+j.offsetHeight+"px;'></div>",b)).appendTo(o("body",b)),c.dragMaskList.push(j)}}},view:{addEditBtn:function(b,a){if(!(a.editNameFlag||o(a,d.id.EDIT,b).length>0)&&g.apply(b.edit.showRenameBtn,[b.treeId,a],b.edit.showRenameBtn)){var c=o(a,d.id.A,b),r="<span class='"+d.className.BUTTON+" edit' id='"+a.tId+d.id.EDIT+"' title='"+g.apply(b.edit.renameTitle,[b.treeId,a],b.edit.renameTitle)+"' treeNode"+d.id.EDIT+" style='display:none;'></span>";c.append(r),o(a,d.id.EDIT,b).bind("click",function(){return!(!g.uCanDo(b)||0==g.apply(b.callback.beforeEditName,[b.treeId,a],!0))&&(f.editNode(b,a),!1)}).show()}},addRemoveBtn:function(b,a){if(!(a.editNameFlag||o(a,d.id.REMOVE,b).length>0)&&g.apply(b.edit.showRemoveBtn,[b.treeId,a],b.edit.showRemoveBtn)){var c=o(a,d.id.A,b),r="<span class='"+d.className.BUTTON+" remove' id='"+a.tId+d.id.REMOVE+"' title='"+g.apply(b.edit.removeTitle,[b.treeId,a],b.edit.removeTitle)+"' treeNode"+d.id.REMOVE+" style='display:none;'></span>";c.append(r),o(a,d.id.REMOVE,b).bind("click",function(){return!(!g.uCanDo(b)||0==g.apply(b.callback.beforeRemove,[b.treeId,a],!0))&&(f.removeNode(b,a),b.treeObj.trigger(d.event.REMOVE,[b.treeId,a]),!1)}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(b,a){m.getRoots().showHoverDom&&(a.isHover=!0,b.edit.enable&&(f.addEditBtn(b,a),f.addRemoveBtn(b,a)),g.apply(b.view.addHoverDom,[b.treeId,a]))},cancelCurEditNode:function(b,a,c){var r=m.getRoot(b),k=b.data.key.name,i=r.curEditNode;if(i){var j=r.curEditInput;a=a||(c?i[k]:j.val());if(!1===g.apply(b.callback.beforeRename,[b.treeId,i,a,c],!0))return!1;i[k]=a,o(i,d.id.A,b).removeClass(d.node.CURSELECTED_EDIT),j.unbind(),f.setNodeName(b,i),i.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,f.selectNode(b,i,!1),b.treeObj.trigger(d.event.RENAME,[b.treeId,i,c])}return r.noSelection=!0},editNode:function(b,a){var c=m.getRoot(b);if(f.editNodeBlur=!1,m.isSelectedNode(b,a)&&c.curEditNode==a&&a.editNameFlag)setTimeout(function(){g.inputFocus(c.curEditInput)},0);else{var r=b.data.key.name;a.editNameFlag=!0,f.removeTreeDom(b,a),f.cancelCurEditNode(b),f.selectNode(b,a,!1),o(a,d.id.SPAN,b).html("<input type=text class='rename' id='"+a.tId+d.id.INPUT+"' treeNode"+d.id.INPUT+" >");var k=o(a,d.id.INPUT,b);k.attr("value",a[r]),b.edit.editNameSelectAll?g.inputSelect(k):g.inputFocus(k),k.bind("blur",function(){f.editNodeBlur||f.cancelCurEditNode(b)}).bind("keydown",function(a){"13"==a.keyCode?(f.editNodeBlur=!0,f.cancelCurEditNode(b)):"27"==a.keyCode&&f.cancelCurEditNode(b,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),o(a,d.id.A,b).addClass(d.node.CURSELECTED_EDIT),c.curEditInput=k,c.noSelection=!1,c.curEditNode=a}},moveNode:function(b,a,c,r,k,i){var j=m.getRoot(b),e=b.data.key.children;if(a!=c&&(!b.data.keep.leaf||!a||a.isParent||r!=d.move.TYPE_INNER)){var p,g=c.parentTId?c.getParentNode():j;(t=null===a||a==j)&&null===a&&(a=j),t&&(r=d.move.TYPE_INNER),j=a.parentTId?a.getParentNode():j,r!=d.move.TYPE_PREV&&r!=d.move.TYPE_NEXT&&(r=d.move.TYPE_INNER),r==d.move.TYPE_INNER&&(t?c.parentTId=null:(a.isParent||(a.isParent=!0,a.open=!!a.open,f.setNodeLineIcos(b,a)),c.parentTId=a.tId)),t?p=t=b.treeObj:(i||r!=d.move.TYPE_INNER?i||f.expandCollapseNode(b,a.getParentNode(),!0,!1):f.expandCollapseNode(b,a,!0,!1),t=o(a,b),p=o(a,d.id.UL,b),t.get(0)&&!p.get(0)&&(p=[],f.makeUlHtml(b,a,p,""),t.append(p.join(""))),p=o(a,d.id.UL,b));var q=o(c,b);q.get(0)?t.get(0)||q.remove():q=f.appendNodes(b,c.level,[c],null,-1,!1,!0).join(""),p.get(0)&&r==d.move.TYPE_INNER?p.append(q):t.get(0)&&r==d.move.TYPE_PREV?t.before(q):t.get(0)&&r==d.move.TYPE_NEXT&&t.after(q);var l=-1,v=0,x=null,t=null,D=c.level;if(c.isFirstNode)l=0,g[e].length>1&&((x=g[e][1]).isFirstNode=!0);else if(c.isLastNode)l=g[e].length-1,(x=g[e][l-1]).isLastNode=!0;else for(p=0,q=g[e].length;p<q;p++)if(g[e][p].tId==c.tId){l=p;break}if(l>=0&&g[e].splice(l,1),r!=d.move.TYPE_INNER)for(p=0,q=j[e].length;p<q;p++)j[e][p].tId==a.tId&&(v=p);r==d.move.TYPE_INNER?(a[e]||(a[e]=[]),a[e].length>0&&((t=a[e][a[e].length-1]).isLastNode=!1),a[e].splice(a[e].length,0,c),c.isLastNode=!0,c.isFirstNode=1==a[e].length):a.isFirstNode&&r==d.move.TYPE_PREV?(j[e].splice(v,0,c),(t=a).isFirstNode=!1,c.parentTId=a.parentTId,c.isFirstNode=!0,c.isLastNode=!1):a.isLastNode&&r==d.move.TYPE_NEXT?(j[e].splice(v+1,0,c),(t=a).isLastNode=!1,c.parentTId=a.parentTId,c.isFirstNode=!1,c.isLastNode=!0):(r==d.move.TYPE_PREV?j[e].splice(v,0,c):j[e].splice(v+1,0,c),c.parentTId=a.parentTId,c.isFirstNode=!1,c.isLastNode=!1),m.fixPIdKeyValue(b,c),m.setSonNodeLevel(b,c.getParentNode(),c),f.setNodeLineIcos(b,c),f.repairNodeLevelClass(b,c,D),!b.data.keep.parent&&g[e].length<1?(g.isParent=!1,g.open=!1,a=o(g,d.id.UL,b),r=o(g,d.id.SWITCH,b),e=o(g,d.id.ICON,b),f.replaceSwitchClass(g,r,d.folder.DOCU),f.replaceIcoClass(g,e,d.folder.DOCU),a.css("display","none")):x&&f.setNodeLineIcos(b,x),t&&f.setNodeLineIcos(b,t),b.check&&b.check.enable&&f.repairChkClass&&(f.repairChkClass(b,g),f.repairParentChkClassWithSelf(b,g),g!=c.parent&&f.repairParentChkClassWithSelf(b,c)),i||f.expandCollapseParentNode(b,c.getParentNode(),!0,k)}},removeEditBtn:function(b,a){o(a,d.id.EDIT,b).unbind().remove()},removeRemoveBtn:function(b,a){o(a,d.id.REMOVE,b).unbind().remove()},removeTreeDom:function(b,a){a.isHover=!1,f.removeEditBtn(b,a),f.removeRemoveBtn(b,a),g.apply(b.view.removeHoverDom,[b.treeId,a])},repairNodeLevelClass:function(b,a,c){if(c!==a.level){var f=o(a,b),g=o(a,d.id.A,b);b=o(a,d.id.UL,b),c=d.className.LEVEL+c,a=d.className.LEVEL+a.level;f.removeClass(c),f.addClass(a),g.removeClass(c),g.addClass(a),b.removeClass(c),b.addClass(a)}},selectNodes:function(b,a){for(var c=0,d=a.length;c<d;c++)f.selectNode(b,a[c],c>0)}},event:{},data:{setSonNodeLevel:function(b,a,c){if(c){var d=b.data.key.children;if(c.level=a?a.level+1:0,c[d]){a=0;for(var f=c[d].length;a<f;a++)c[d][a]&&m.setSonNodeLevel(b,c,c[d][a])}}}}});var I=v.fn.zTree,g=I._z.tools,d=I.consts,f=I._z.view,m=I._z.data,o=g.$;m.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),m.addInitBind(function(b){var a=b.treeObj,c=d.event;a.bind(c.RENAME,function(a,c,d,f){g.apply(b.callback.onRename,[a,c,d,f])}),a.bind(c.DRAG,function(a,c,d,f){g.apply(b.callback.onDrag,[c,d,f])}),a.bind(c.DRAGMOVE,function(a,c,d,f){g.apply(b.callback.onDragMove,[c,d,f])}),a.bind(c.DROP,function(a,c,d,f,e,m,o){g.apply(b.callback.onDrop,[c,d,f,e,m,o])})}),m.addInitUnBind(function(b){b=b.treeObj;var a=d.event;b.unbind(a.RENAME),b.unbind(a.DRAG),b.unbind(a.DRAGMOVE),b.unbind(a.DROP)}),m.addInitCache(function(){}),m.addInitNode(function(b,a,c){c&&(c.isHover=!1,c.editNameFlag=!1)}),m.addInitProxy(function(b){var a=b.target,c=m.getSetting(b.data.treeId),f=b.relatedTarget,k="",i=null,j="",e=null,o=null;if(g.eqs(b.type,"mouseover")?(o=g.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+d.id.A}]))&&(k=g.getNodeMainDom(o).id,j="hoverOverNode"):g.eqs(b.type,"mouseout")?(o=g.getMDom(c,f,[{tagName:"a",attrName:"treeNode"+d.id.A}]))||(k="remove",j="hoverOutNode"):g.eqs(b.type,"mousedown")&&(o=g.getMDom(c,a,[{tagName:"a",attrName:"treeNode"+d.id.A}]))&&(k=g.getNodeMainDom(o).id,j="mousedownNode"),k.length>0)switch(i=m.getNodeCache(c,k),j){case"mousedownNode":e=x.onMousedownNode;break;case"hoverOverNode":e=x.onHoverOverNode;break;case"hoverOutNode":e=x.onHoverOutNode}return{stop:!1,node:i,nodeEventType:j,nodeEventCallback:e,treeEventType:"",treeEventCallback:null}}),m.addInitRoot(function(b){b=m.getRoot(b);var a=m.getRoots();b.curEditNode=null,b.curEditInput=null,b.curHoverNode=null,b.dragFlag=0,b.dragNodeShowBefore=[],b.dragMaskList=[],a.showHoverDom=!0}),m.addZTreeTools(function(b,a){a.cancelEditName=function(a){m.getRoot(this.setting).curEditNode&&f.cancelCurEditNode(this.setting,a||null,!0)},a.copyNode=function(a,b,k,i){if(!b)return null;if(a&&!a.isParent&&this.setting.data.keep.leaf&&k===d.move.TYPE_INNER)return null;var j=this,e=g.clone(b);return a||(a=null,k=d.move.TYPE_INNER),k==d.move.TYPE_INNER?(b=function(){f.addNodes(j.setting,a,-1,[e],i)},g.canAsync(this.setting,a)?f.asyncNode(this.setting,a,i,b):b()):(f.addNodes(this.setting,a.parentNode,-1,[e],i),f.moveNode(this.setting,a,e,k,!1,i)),e},a.editName=function(a){a&&a.tId&&a===m.getNodeCache(this.setting,a.tId)&&(a.parentTId&&f.expandCollapseParentNode(this.setting,a.getParentNode(),!0),f.editNode(this.setting,a))},a.moveNode=function(a,b,k,i){function j(){f.moveNode(e.setting,a,b,k,!1,i)}if(!b)return b;if(a&&!a.isParent&&this.setting.data.keep.leaf&&k===d.move.TYPE_INNER)return null;if(a&&(b.parentTId==a.tId&&k==d.move.TYPE_INNER||o(b,this.setting).find("#"+a.tId).length>0))return null;a||(a=null);var e=this;return g.canAsync(this.setting,a)&&k===d.move.TYPE_INNER?f.asyncNode(this.setting,a,i,j):j(),b},a.setEditable=function(a){return this.setting.edit.enable=a,this.refresh()}});var O=f.cancelPreSelectedNode;f.cancelPreSelectedNode=function(b,a){for(var c=m.getRoot(b).curSelectedList,d=0,g=c.length;d<g&&(a&&a!==c[d]||(f.removeTreeDom(b,c[d]),!a));d++);O&&O.apply(f,arguments)};var P=f.createNodes;f.createNodes=function(b,a,c,d,g){P&&P.apply(f,arguments),c&&f.repairParentChkClassWithSelf&&f.repairParentChkClassWithSelf(b,d)};var W=f.makeNodeUrl;f.makeNodeUrl=function(b,a){return b.edit.enable?null:W.apply(f,arguments)};var L=f.removeNode;f.removeNode=function(b,a){var c=m.getRoot(b);c.curEditNode===a&&(c.curEditNode=null),L&&L.apply(f,arguments)};var Q=f.selectNode;f.selectNode=function(b,a,c){var d=m.getRoot(b);return(!m.isSelectedNode(b,a)||d.curEditNode!=a||!a.editNameFlag)&&(Q&&Q.apply(f,arguments),f.addHoverDom(b,a),!0)};var V=g.uCanDo;g.uCanDo=function(b,a){var c=m.getRoot(b);return!(!a||!(g.eqs(a.type,"mouseover")||g.eqs(a.type,"mouseout")||g.eqs(a.type,"mousedown")||g.eqs(a.type,"mouseup")))||(c.curEditNode&&(f.editNodeBlur=!1,c.curEditInput.focus()),!c.curEditNode&&(!V||V.apply(f,arguments)))}}(jQuery);