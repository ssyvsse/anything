!function($){$.fn.extend({prettyFile:function(options){options=$.extend({text:"选择文件"},options);return this.each(function(){if($this=$(this),$this){var multiple=$this.attr("multiple");$wrap=($el=$this,text=options.text,$el.wrap("<div></div>"),$el.hide(),$el.after('\t\t\t\t<div class="input-append input-group"">\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t<button class="btn btn-white" type="button">'+text+'</button>\t\t\t\t\t</span>\t\t\t\t\t<input class="input-large form-control" type="text">\t\t\t\t</div>\t\t\t\t'),$el.parent()),function($wrap,multiple){$wrap.find('input[type="file"]').change(function(){var files=$(this)[0].files,info="";if(0==files.length)return!1;if(multiple&&1!=files.length)files.length>1&&(info="已选择了"+files.length+" 个文件");else{var path=$(this).val().split("\\");info=path[path.length-1]}$wrap.find(".input-append input").val(info)})}($wrap,multiple),function($wrap,multiple){$wrap.find(".input-append").click(function(e){e.preventDefault(),$wrap.find('input[type="file"]').click()})}($wrap)}var $el,text})}})}(jQuery);