!function(){var width,height,largeHeader,canvas,ctx,points,target,animateHeader=!0;function mouseMove(e){var posx=posy=0;e.pageX||e.pageY?(posx=e.pageX,posy=e.pageY):(e.clientX||e.clientY)&&(posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),target.x=posx,target.y=posy}function scrollCheck(){animateHeader=!(document.body.scrollTop>height)}function resize(){width=window.innerWidth,height=window.innerHeight,largeHeader.style.height=height+"px",canvas.width=width,canvas.height=height}function animate(){if(animateHeader)for(var i in ctx.clearRect(0,0,width,height),points)Math.abs(getDistance(target,points[i]))<4e3?(points[i].active=.3,points[i].circle.active=.6):Math.abs(getDistance(target,points[i]))<2e4?(points[i].active=.1,points[i].circle.active=.3):Math.abs(getDistance(target,points[i]))<4e4?(points[i].active=.02,points[i].circle.active=.1):(points[i].active=0,points[i].circle.active=0),drawLines(points[i]),points[i].circle.draw();requestAnimationFrame(animate)}function shiftPoint(p){TweenLite.to(p,1+1*Math.random(),{x:p.originX-50+100*Math.random(),y:p.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){shiftPoint(p)}})}function drawLines(p){if(p.active)for(var i in p.closest)ctx.beginPath(),ctx.moveTo(p.x,p.y),ctx.lineTo(p.closest[i].x,p.closest[i].y),ctx.strokeStyle="rgba(156,217,249,"+p.active+")",ctx.stroke()}function Circle(pos,rad,color){var _this=this;_this.pos=pos||null,_this.radius=rad||null,_this.color=color||null,this.draw=function(){_this.active&&(ctx.beginPath(),ctx.arc(_this.pos.x,_this.pos.y,_this.radius,0,2*Math.PI,!1),ctx.fillStyle="rgba(156,217,249,"+_this.active+")",ctx.fill())}}function getDistance(p1,p2){return Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2)}!function(){width=window.innerWidth,height=window.innerHeight,target={x:width/2,y:height/2},(largeHeader=document.getElementById("large-header")).style.height=height+"px",(canvas=document.getElementById("demo-canvas")).width=width,canvas.height=height,ctx=canvas.getContext("2d"),points=[];for(var x=0;x<width;x+=width/20)for(var y=0;y<height;y+=height/20){var px=x+Math.random()*width/20,py=y+Math.random()*height/20,p={x:px,originX:px,y:py,originY:py};points.push(p)}for(var i=0;i<points.length;i++){for(var closest=[],p1=points[i],j=0;j<points.length;j++){var p2=points[j];if(p1!=p2){for(var placed=!1,k=0;k<5;k++)placed||void 0==closest[k]&&(closest[k]=p2,placed=!0);for(var k=0;k<5;k++)placed||getDistance(p1,p2)<getDistance(p1,closest[k])&&(closest[k]=p2,placed=!0)}}p1.closest=closest}for(var i in points){var c=new Circle(points[i],2+2*Math.random(),"rgba(255,255,255,0.3)");points[i].circle=c}}(),function(){for(var i in animate(),points)shiftPoint(points[i])}(),function(){"ontouchstart"in window||window.addEventListener("mousemove",mouseMove);window.addEventListener("scroll",scrollCheck),window.addEventListener("resize",resize)}()}();